USE izeven_db;
CREATE TABLE IF NOT EXISTS students(student_id INTEGER UNSIGNED PRIMARY KEY, name VARCHAR(100) NOT NULL, last_name VARCHAR(100) NOT NULL, email VARCHAR(100) NOT NULL UNIQUE, current_student TINYINT(1) NOT NULL DEFAULT 1);
CREATE TABLE IF NOT EXISTS classes(class_id INTEGER UNSIGNED PRIMARY KEY AUTO_INCREMENT, class_name VARCHAR(100) NOT NULL, professor VARCHAR(100), content_hours INTEGER UNSIGNED NOT NULL, level ENUM('Basic', 'Mid', 'Advanced'), available TINYINT(1) NOT NULL DEFAULT 1);
CREATE TABLE IF NOT EXISTS courses(id_course INTEGER UNSIGNED PRIMARY KEY AUTO_INCREMENT, class_id INTEGER UNSIGNED NOT NULL, name VARCHAR(100) NOT NULL, description TEXT, cost INTEGER UNSIGNED NOT NULL, duration INTEGER UNSIGNED NOT NULL, remote ENUM('Y', 'N') DEFAULT 'Y', on_site ENUM('Y', 'N') DEFAULT 'N', FOREIGN KEY (class_id) REFERENCES classes(class_id) ON DELETE CASCADE ON UPDATE CASCADE); 
CREATE TABLE IF NOT EXISTS grades(grade_id INTEGER UNSIGNED PRIMARY KEY AUTO_INCREMENT, student_id INTEGER UNSIGNED NOT NULL, course_id INTEGER UNSIGNED NOT NULL, non_attendance INTEGER UNSIGNED NOT NULL, grade DOUBLE(2, 1) NOT NULL, FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE ON UPDATE CASCADE, FOREIGN KEY (course_id) REFERENCES courses(id_course) ON DELETE CASCADE ON UPDATE CASCADE);